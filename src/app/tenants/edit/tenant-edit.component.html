<div class="box-container">
    <div class="header">
        <mat-progress-bar *ngIf="loading" mode="indeterminate" style="position: absolute"></mat-progress-bar>
        <mat-toolbar color='accent'>
            <h1 color='primary'>Tenants</h1>
            <span style="flex: 1 1 auto"></span>
            <button mat-icon-button matTooltip="Send Notification"
                (click)="tenantService.openSendNotification(tenant._id)" color="primary">
                <mat-icon>send</mat-icon>
            </button>
        </mat-toolbar>
    </div>
    <div class="content">
        <div class="container-fluid">
            <mat-card>
                <mat-card-content>
                    <div class="row side-padding">
                        <div class="col-sm-5">
                            <div class="row form-group side-padding">
                                <mat-form-field>
                                    <input matInput placeholder="Site" [(ngModel)]="tenant.site" disabled="true">
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-sm-5">
                            <div class="row form-group side-padding">
                                <mat-form-field>
                                    <input matInput placeholder="Company Name" [(ngModel)]="tenant.companyName">
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-sm-2">
                            <div class="row form-group side-padding">
                                <mat-slide-toggle class="pull-right" color="primary" [(checked)]="tenant.accountActive">
                                    Active
                                </mat-slide-toggle>
                            </div>
                        </div>
                    </div>
                    <div class="row side-padding">
                        <div class="col-sm-12">
                            <div class="row form-group side-padding">
                                <mat-form-field>
                                    <textarea matInput placeholder="Description"
                                        [(ngModel)]="tenant.description"></textarea>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="row side-padding">
                        <div class="col-sm-6">
                            <div class="row form-group side-padding">
                                <mat-form-field>
                                    <input matInput placeholder="Address 1" [(ngModel)]="tenant.address1">
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="row form-group side-padding">
                                <mat-form-field>
                                    <input matInput placeholder="Address 2" [(ngModel)]="tenant.address2">
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="row side-padding">
                        <div class="col-sm-6">
                            <div class="row form-group side-padding">
                                <mat-form-field>
                                    <input matInput placeholder="State" [(ngModel)]="tenant.state">
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="row form-group side-padding">
                                <mat-form-field>
                                    <input matInput placeholder="Zipcode" [(ngModel)]="tenant.zipcode">
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="row form-group side-padding">
                                <mat-form-field>
                                    <input matInput placeholder="Country" [(ngModel)]="tenant.country">
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="row side-padding">
                        <div class="col-sm-3">
                            <div class="row form-group side-padding">
                                <mat-form-field>
                                    <input matInput placeholder="Active Tickets" [(ngModel)]="info.totalActiveTickets"
                                        disabled="true">
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="row form-group side-padding">
                                <mat-form-field>
                                    <input matInput placeholder="Tickets" [(ngModel)]="info.totalTickets"
                                        disabled="true">
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="row form-group side-padding">
                                <mat-form-field>
                                    <input matInput placeholder="Active Users" [(ngModel)]="info.totalActiveUsers"
                                        disabled="true">
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="row form-group side-padding">
                                <mat-form-field>
                                    <input matInput placeholder="Users" [(ngModel)]="info.totalUsers" disabled="true">
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="row side-padding">
                        <div class="col-sm-3">
                            <div class="row form-group side-padding">
                                <h2>Past Day</h2>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="!loading" class="row side-padding">
                        <div style="display: block;">
                            <canvas baseChart width="600" height="200" [datasets]="info.ticketsPastDay.chartData"
                                [labels]="info.ticketsPastDay.chartLabels" [options]="lineChartOptions"
                                [colors]="lineChartColors" [legend]="lineChartLegend" [chartType]="lineChartType">
                            </canvas>
                        </div>
                    </div>
                    <div class="row side-padding">
                        <div class="col-sm-12">
                            <div class="row form-group side-padding">
                                <button mat-flat-button color='primary' style="margin-right: 15px"
                                    (click)="save()">Save</button>
                                <button mat-flat-button color='accent' (click)="close()">Close</button>
                            </div>
                        </div>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>
    </div>
</div>